<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RUNNER Terminal</title>
    <meta name="description" content="Post-apocalyptic blockchain gaming platform">
    
    <!-- PWA Support -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#00ff41">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" href="assets/runner-icon.png">
    <link rel="apple-touch-icon" href="assets/runner-icon.png">
    
    <!-- Telegram Web App -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- TON Connect -->
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="styles/mobile.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="terminal-boot">
            <div class="boot-logo">
                <img src="assets/runner-icon.png" alt="RUNNER Terminal">
                <h1>RUNNER TERMINAL</h1>
            </div>
            <div class="boot-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="boot-progress"></div>
                </div>
                <div class="boot-text" id="boot-text">Initializing systems...</div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="app hidden">
        <!-- Header -->
        <header class="terminal-header">
            <div class="header-left">
                <div class="logo">
                    <img src="assets/runner-icon.png" alt="RUNNER">
                    <span>RUNNER TERMINAL</span>
                </div>
            </div>
            
            <div class="header-center">
                <div class="user-stats">
                    <div class="stat-item">
                        <span class="stat-label">Level</span>
                        <span class="stat-value" id="user-level">1</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">TSAR</span>
                        <span class="stat-value" id="tsar-balance">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Caps</span>
                        <span class="stat-value" id="caps-balance">1,250</span>
                    </div>
                </div>
            </div>
            
            <div class="header-right">
                <button class="wallet-btn" id="ton-connect-btn">
                    <span id="wallet-status">Connect Wallet</span>
                </button>
                <button class="menu-btn" id="menu-btn">‚ò∞</button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="terminal-nav" id="main-nav">
            <button class="nav-btn active" data-section="dashboard">
                <span class="nav-icon">üè†</span>
                <span class="nav-text">Dashboard</span>
            </button>
            <button class="nav-btn" data-section="games">
                <span class="nav-icon">üéÆ</span>
                <span class="nav-text">Games</span>
            </button>
            <button class="nav-btn" data-section="missions">
                <span class="nav-icon">üéØ</span>
                <span class="nav-text">Missions</span>
            </button>
            <button class="nav-btn" data-section="market">
                <span class="nav-icon">üõí</span>
                <span class="nav-text">Market</span>
            </button>
            <button class="nav-btn" data-section="inventory">
                <span class="nav-icon">üéí</span>
                <span class="nav-text">Inventory</span>
            </button>
            <button class="nav-btn" data-section="leaderboard">
                <span class="nav-icon">üèÜ</span>
                <span class="nav-text">Rankings</span>
            </button>
        </nav>

        <!-- Content Sections -->
        <main class="terminal-content">
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="content-section active">
                <div class="section-header">
                    <h2>üèúÔ∏è Welcome to the Wasteland</h2>
                    <p>Ready to earn crypto in the post-apocalyptic world?</p>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card stats-card">
                        <h3>üìä Your Progress</h3>
                        <div class="stats-grid">
                            <div class="stat">
                                <span class="value" id="dash-games-played">0</span>
                                <span class="label">Games Played</span>
                            </div>
                            <div class="stat">
                                <span class="value" id="dash-missions-completed">0</span>
                                <span class="label">Missions Complete</span>
                            </div>
                            <div class="stat">
                                <span class="value" id="dash-total-earned">0</span>
                                <span class="label">TON Earned</span>
                            </div>
                            <div class="stat">
                                <span class="value" id="dash-win-rate">0%</span>
                                <span class="label">Win Rate</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card quick-actions">
                        <h3>‚ö° Quick Actions</h3>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="switchSection('games')">
                                <span class="btn-icon">üéÆ</span>
                                <span class="btn-text">Play Games</span>
                            </button>
                            <button class="action-btn" onclick="switchSection('missions')">
                                <span class="btn-icon">üéØ</span>
                                <span class="btn-text">Start Mission</span>
                            </button>
                            <button class="action-btn" onclick="switchSection('market')">
                                <span class="btn-icon">üíé</span>
                                <span class="btn-text">Buy Stars</span>
                            </button>
                            <button class="action-btn" onclick="openTONConnect()">
                                <span class="btn-icon">üí∞</span>
                                <span class="btn-text">Connect Wallet</span>
                            </button>
                        </div>
                    </div>

                    <div class="dashboard-card news-card">
                        <h3>üì∞ Wasteland News</h3>
                        <div class="news-feed">
                            <div class="news-item">
                                <span class="news-time">2 min ago</span>
                                <span class="news-text">New TSAR rewards available in Terminal Hacking!</span>
                            </div>
                            <div class="news-item">
                                <span class="news-time">1 hour ago</span>
                                <span class="news-text">Weekly leaderboard updated. Check your ranking!</span>
                            </div>
                            <div class="news-item">
                                <span class="news-time">3 hours ago</span>
                                <span class="news-text">Battle Pass Season 2 now available for purchase.</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Games Section -->
            <section id="games-section" class="content-section">
                <div class="section-header">
                    <h2>üéÆ Wasteland Games</h2>
                    <p>Earn crypto by playing post-apocalyptic games</p>
                </div>

                <div class="games-grid">
                    <div class="game-card" data-game="terminal-hacking">
                        <div class="game-image">
                            <img src="assets/game-terminal.jpg" alt="Terminal Hacking" loading="lazy">
                            <div class="game-badge">HOT</div>
                        </div>
                        <div class="game-info">
                            <h3>üñ•Ô∏è Terminal Hacking</h3>
                            <p>Crack Vault-Tec terminals in this Fallout-style puzzle game</p>
                            <div class="game-rewards">
                                <span class="reward">üí∞ 5-50 TSAR</span>
                                <span class="reward">üç∫ 10-100 Caps</span>
                            </div>
                            <div class="game-stats">
                                <span>üéØ Difficulty: Medium</span>
                                <span>‚è±Ô∏è ~3 minutes</span>
                            </div>
                            <button class="play-btn" onclick="startGame('terminal-hacking')">
                                <span>üöÄ PLAY NOW</span>
                            </button>
                        </div>
                    </div>

                    <div class="game-card" data-game="wasteland-wings">
                        <div class="game-image">
                            <img src="assets/game-wings.jpg" alt="Wasteland Wings" loading="lazy">
                            <div class="game-badge">NEW</div>
                        </div>
                        <div class="game-info">
                            <h3>‚úàÔ∏è Wasteland Wings</h3>
                            <p>Pilot pre-war aircraft through radioactive storms</p>
                            <div class="game-rewards">
                                <span class="reward">üí∞ 10-100 TSAR</span>
                                <span class="reward">üç∫ 20-200 Caps</span>
                            </div>
                            <div class="game-stats">
                                <span>üéØ Difficulty: Hard</span>
                                <span>‚è±Ô∏è ~5 minutes</span>
                            </div>
                            <button class="play-btn" onclick="startGame('wasteland-wings')">
                                <span>üöÄ PLAY NOW</span>
                            </button>
                        </div>
                    </div>

                    <div class="game-card" data-game="nuclear-charge">
                        <div class="game-image">
                            <img src="assets/game-charge.jpg" alt="Nuclear Charge" loading="lazy">
                            <div class="game-badge">PREMIUM</div>
                        </div>
                        <div class="game-info">
                            <h3>‚ö° Nuclear Charge</h3>
                            <p>Trade fusion cores and energy in the wasteland market</p>
                            <div class="game-rewards">
                                <span class="reward">üí∞ 20-500 TSAR</span>
                                <span class="reward">üíé Real TON</span>
                            </div>
                            <div class="game-stats">
                                <span>üéØ Difficulty: Expert</span>
                                <span>‚è±Ô∏è ~10 minutes</span>
                            </div>
                            <button class="play-btn premium" onclick="startGame('nuclear-charge')">
                                <span>‚≠ê PREMIUM PLAY</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Missions Section -->
            <section id="missions-section" class="content-section">
                <div class="section-header">
                    <h2>üéØ Wasteland Missions</h2>
                    <p>Complete tasks to earn crypto rewards</p>
                </div>

                <div class="missions-container">
                    <div class="mission-filters">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="daily">Daily</button>
                        <button class="filter-btn" data-filter="weekly">Weekly</button>
                        <button class="filter-btn" data-filter="special">Special</button>
                    </div>

                    <div class="missions-list" id="missions-list">
                        <!-- Missions will be loaded dynamically -->
                    </div>
                </div>
            </section>

            <!-- Market Section -->
            <section id="market-section" class="content-section">
                <div class="section-header">
                    <h2>üõí Wasteland Market</h2>
                    <p>Purchase items, NFTs, and premium features with Telegram Stars</p>
                </div>

                <div class="market-tabs">
                    <button class="tab-btn active" data-tab="tokens">üí∞ TSAR Tokens</button>
                    <button class="tab-btn" data-tab="nfts">üé® NFTs</button>
                    <button class="tab-btn" data-tab="passes">üé´ Battle Pass</button>
                    <button class="tab-btn" data-tab="items">‚öîÔ∏è Items</button>
                </div>

                <div class="market-content">
                    <div id="tokens-tab" class="tab-content active">
                        <div class="products-grid" id="tsar-products">
                            <!-- TSAR products will be loaded -->
                        </div>
                    </div>

                    <div id="nfts-tab" class="tab-content">
                        <div class="products-grid" id="nft-products">
                            <!-- NFT products will be loaded -->
                        </div>
                    </div>

                    <div id="passes-tab" class="tab-content">
                        <div class="products-grid" id="pass-products">
                            <!-- Battle pass products will be loaded -->
                        </div>
                    </div>

                    <div id="items-tab" class="tab-content">
                        <div class="products-grid" id="item-products">
                            <!-- Item products will be loaded -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Inventory Section -->
            <section id="inventory-section" class="content-section">
                <div class="section-header">
                    <h2>üéí Your Inventory</h2>
                    <p>Manage your NFTs, items, and collectibles</p>
                </div>

                <div class="inventory-tabs">
                    <button class="tab-btn active" data-tab="nfts">üé® NFTs</button>
                    <button class="tab-btn" data-tab="items">‚öîÔ∏è Items</button>
                    <button class="tab-btn" data-tab="achievements">üèÜ Achievements</button>
                </div>

                <div class="inventory-content">
                    <div id="nfts-inventory" class="tab-content active">
                        <div class="inventory-grid" id="user-nfts">
                            <!-- User NFTs will be loaded -->
                        </div>
                    </div>

                    <div id="items-inventory" class="tab-content">
                        <div class="inventory-grid" id="user-items">
                            <!-- User items will be loaded -->
                        </div>
                    </div>

                    <div id="achievements-inventory" class="tab-content">
                        <div class="achievements-grid" id="user-achievements">
                            <!-- User achievements will be loaded -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Leaderboard Section -->
            <section id="leaderboard-section" class="content-section">
                <div class="section-header">
                    <h2>üèÜ Wasteland Rankings</h2>
                    <p>See who dominates the post-apocalyptic world</p>
                </div>

                <div class="leaderboard-tabs">
                    <button class="tab-btn active" data-tab="earnings">üí∞ Top Earners</button>
                    <button class="tab-btn" data-tab="games">üéÆ Best Players</button>
                    <button class="tab-btn" data-tab="missions">üéØ Mission Masters</button>
                </div>

                <div class="leaderboard-content">
                    <div class="leaderboard-list" id="leaderboard-list">
                        <!-- Leaderboard will be loaded -->
                    </div>
                </div>
            </section>
        </main>

        <!-- Game Modal -->
        <div id="game-modal" class="modal">
            <div class="modal-content game-container">
                <div class="game-header">
                    <h3 id="game-title">Game</h3>
                    <button class="close-btn" onclick="closeGame()">&times;</button>
                </div>
                <div class="game-area" id="game-area">
                    <!-- Game will be loaded here -->
                </div>
                <div class="game-controls" id="game-controls">
                    <!-- Game controls will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Side Menu -->
        <div id="side-menu" class="side-menu">
            <div class="menu-header">
                <h3>RUNNER Menu</h3>
                <button class="close-menu" onclick="closeSideMenu()">&times;</button>
            </div>
            <div class="menu-content">
                <div class="user-info">
                    <div class="user-avatar">
                        <img id="user-avatar" src="assets/default-avatar.png" alt="User">
                    </div>
                    <div class="user-details">
                        <h4 id="user-name">Loading...</h4>
                        <p id="user-rank">Rookie Runner</p>
                    </div>
                </div>
                
                <div class="menu-items">
                    <button class="menu-item" onclick="switchSection('dashboard')">
                        <span>üè† Dashboard</span>
                    </button>
                    <button class="menu-item" onclick="showProfile()">
                        <span>üë§ Profile</span>
                    </button>
                    <button class="menu-item" onclick="showSettings()">
                        <span>‚öôÔ∏è Settings</span>
                    </button>
                    <button class="menu-item" onclick="showHelp()">
                        <span>‚ùì Help & Support</span>
                    </button>
                    <button class="menu-item" onclick="showAbout()">
                        <span>‚ÑπÔ∏è About</span>
                    </button>
                </div>
                
                <div class="menu-footer">
                    <p>RUNNER Terminal v3.0</p>
                    <p>Powered by TON & Telegram Stars</p>
                </div>
            </div>
        </div>

        <!-- Notification System -->
        <div id="notifications" class="notifications-container">
            <!-- Notifications will appear here -->
        </div>
    </div>

    <!-- PWA Install Prompt -->
    <div id="pwa-prompt" class="pwa-prompt hidden">
        <div class="pwa-content">
            <h3>Install RUNNER Terminal</h3>
            <p>Get the full experience with offline support</p>
            <div class="pwa-buttons">
                <button id="pwa-install">Install</button>
                <button id="pwa-dismiss">Maybe Later</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="script.js"></script>
</body>
</html>